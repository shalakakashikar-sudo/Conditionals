import { Question } from '../types';

export const THIRD_QUESTIONS: Question[] = [
  // ========================================================================
  // LEVEL 1: EASY (IDs 451-500) - Basic Structure (Past Perfect + Would Have)
  // ========================================================================
  { id: 451, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "If I ___ harder, I ___ the exam.", options: ["had studied / would have passed", "studied / would pass", "have studied / will pass", "had studied / would pass"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Talking about a past event that didn't happen (I didn't study hard, so I didn't pass).\n\nGrammar Recipe: If + Past Perfect (had + V3) + Would Have + V3." },
  { id: 452, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If I ___ (know) you were coming, I would have baked a cake.", correctAnswer: "had known", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: I didn't know in the past.\n\nGrammar Recipe: If + Past Perfect (had + V3) + Result." },
  { id: 453, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "She ___ (miss) the bus if she had woken up earlier.", correctAnswer: "would not have missed", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Imagining a different past result.\n\nGrammar Recipe: Result (Would Have + V3) + If + Past Perfect." },
  { id: 454, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "If we ___ a map, we ___ lost.", options: ["had taken / wouldn't have got", "took / wouldn't get", "had taken / won't get", "have taken / wouldn't have got"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Regret about not taking a map in the past.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 455, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If it ___ (not/rain), we would have gone to the beach.", correctAnswer: "had not rained", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: It DID rain in the past.\n\nGrammar Recipe: If + Past Perfect (Negative) + Result." },
  { id: 456, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "I ___ you if I ___ your number.", options: ["would have called / had had", "would call / had", "will call / have", "would have called / have had"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: 'Had had' is the Past Perfect of 'to have'.\n\nGrammar Recipe: Result + If + Past Perfect." },
  { id: 457, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "He would have been happy if he ___ (win) the race.", correctAnswer: "had won", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: He didn't win in the past.\n\nGrammar Recipe: Result + If + Past Perfect." },
  { id: 458, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If you ___ (ask) me, I would have helped you.", correctAnswer: "had asked", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: You didn't ask me in the past.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 459, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "If they ___ earlier, they ___ the train.", options: ["had left / would have caught", "left / would catch", "had left / would catch", "leave / will catch"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past opportunity missed.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 460, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "I ___ (buy) that dress if it hadn't been so expensive.", correctAnswer: "would have bought", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: I didn't buy it because it was expensive.\n\nGrammar Recipe: Result (Would Have + V3) + If + Past Perfect." },
  { id: 461, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If I ___ (see) him, I would have said hello.", correctAnswer: "had seen", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: I didn't see him.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 462, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "She ___ if she ___ hungry.", options: ["would have eaten / had been", "would eat / was", "will eat / is", "ate / had been"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Hypothetical past situation.\n\nGrammar Recipe: Result (Would Have + V3) + If + Past Perfect." },
  { id: 463, type: 'Third', difficulty: 'Easy', questionType: 'boolean', text: "True or False: Third Conditional talks about the future.", options: ["True", "False"], correctAnswer: 1, explanation: "Conditional Type: Concept Check\n\nWhy it applies: Third Conditional is strictly for the UNREAL PAST.\n\nGrammar Recipe: Past Perfect = Past Time." },
  { id: 464, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If we ___ (go) by car, we would have arrived sooner.", correctAnswer: "had gone", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Alternative past transport.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 465, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "You ___ (pass) the test if you had studied.", correctAnswer: "would have passed", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past failure due to lack of study.\n\nGrammar Recipe: Result (Would Have + V3) + If + Past Perfect." },
  { id: 466, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "If I ___ my camera, I ___ photos.", options: ["had brought / would have taken", "brought / would take", "had brought / would take", "have brought / will take"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Regret about a forgotten item.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 467, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If he ___ (not/fall), he wouldn't have broken his leg.", correctAnswer: "had not fallen", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past accident.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 468, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "They would have won if they ___ (play) better.", correctAnswer: "had played", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past sports result.\n\nGrammar Recipe: Result + If + Past Perfect." },
  { id: 469, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "If the weather ___ nice, we ___ to the park.", options: ["had been / would have gone", "was / went", "is / will go", "were / would go"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: The weather was not nice in the past.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 470, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "I ___ (not/be) late if my alarm had gone off.", correctAnswer: "would not have been", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Explaining past lateness.\n\nGrammar Recipe: Result (Would Not Have + V3) + If + Past Perfect." },
  { id: 471, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If you ___ (tell) me the truth, I wouldn't have been angry.", correctAnswer: "had told", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: You lied in the past.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 472, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "She ___ the job if she ___ the interview.", options: ["would have got / had passed", "would get / passed", "will get / passes", "got / had passed"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past employment outcome.\n\nGrammar Recipe: Result + If + Past Perfect." },
  { id: 473, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If I ___ (have) enough money, I would have traveled.", correctAnswer: "had had", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: 'Had had' (Past Perfect) means I didn't have the money then.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 474, type: 'Third', difficulty: 'Easy', questionType: 'boolean', text: "Is this correct? 'If I had knew, I would have came.'", options: ["Correct", "Incorrect"], correctAnswer: 1, explanation: "Conditional Type: Third Conditional (Error)\n\nWhy it applies: The verbs are wrong. Must use Past Participle (V3). Correct: 'If I had KNOWN, I would have COME'.\n\nGrammar Recipe: Past Perfect (Had + V3) + Would Have + V3." },
  { id: 475, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If you ___ (listen), you would have understood.", correctAnswer: "had listened", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past failure to listen.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 476, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "He ___ (finish) the race if he hadn't tripped.", correctAnswer: "would have finished", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past interruption.\n\nGrammar Recipe: Result (Would Have + V3) + If + Past Perfect." },
  { id: 477, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "If I ___ so much, I ___ sick.", options: ["hadn't eaten / wouldn't have felt", "didn't eat / wouldn't feel", "haven't eaten / won't feel", "not eaten / wouldn't feel"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Regret about overeating.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 478, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If the police ___ (come) earlier, they would have caught the thief.", correctAnswer: "had come", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past timing.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 479, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "We ___ (not/meet) if you hadn't invited me.", correctAnswer: "would not have met", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: How a past meeting happened.\n\nGrammar Recipe: Result (Would Not Have + V3) + If + Past Perfect." },
  { id: 480, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "If she ___ the book, she ___ the ending.", options: ["had read / would have known", "read / would know", "reads / will know", "had read / would know"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: She didn't read it.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 481, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "I ___ (send) you a postcard if I had had your address.", correctAnswer: "would have sent", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Reason for not sending.\n\nGrammar Recipe: Result + If + Past Perfect." },
  { id: 482, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If he ___ (not/forget) his keys, he wouldn't have been locked out.", correctAnswer: "had not forgotten", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past mistake.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 483, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "If the team ___ the match, they ___ celebrated.", options: ["had won / would have", "won / would", "had won / will", "wins / will"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Imagined celebration.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 484, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If you ___ (be) careful, you wouldn't have broken it.", correctAnswer: "had been", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past carelessness.\n\nGrammar Recipe: If + Past Perfect (Had + V3 of be) + Result." },
  { id: 485, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "She ___ (stay) longer if she had had time.", correctAnswer: "would have stayed", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past constraint.\n\nGrammar Recipe: Result + If + Past Perfect." },
  { id: 486, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "If I ___ about the traffic, I ___ a different route.", options: ["had known / would have taken", "knew / would take", "know / will take", "had known / took"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past knowledge affecting past action.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 487, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "We ___ (not/lose) if we had practiced.", correctAnswer: "would not have lost", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Reason for loss.\n\nGrammar Recipe: Result + If + Past Perfect." },
  { id: 488, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If I ___ (wake) up on time, I wouldn't have been late.", correctAnswer: "had woken", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past oversleeping.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 489, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "If you ___ the milk, it ___ sour.", options: ["had refrigerated / wouldn't have gone", "refrigerated / wouldn't go", "refrigerate / won't go", "had refrigerated / didn't go"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past spoilage.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 490, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "They ___ (call) the police if they had seen the accident.", correctAnswer: "would have called", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past hypothetical action.\n\nGrammar Recipe: Result + If + Past Perfect." },
  { id: 491, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If I ___ (not/eat) that shellfish, I wouldn't have been sick.", correctAnswer: "had not eaten", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past cause of sickness.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 492, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "If she ___ the lottery, she ___ a house.", options: ["had won / would have bought", "won / would buy", "wins / will buy", "had won / bought"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past unreal event.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 493, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If you ___ (save) the file, you wouldn't have lost your work.", correctAnswer: "had saved", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past computer error.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 494, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "We ___ (have) a party if it had been your birthday.", correctAnswer: "would have had", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: 'Would have had' - Main verb is 'have'.\n\nGrammar Recipe: Result + If + Past Perfect." },
  { id: 495, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "If I ___ you were waiting, I ___.", options: ["had realized / would have hurried", "realized / would hurry", "realize / will hurry", "had realized / hurried"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Apology for past delay.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 496, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If he ___ (study) French, he would have understood the movie.", correctAnswer: "had studied", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past language skill.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 497, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "The plant ___ (die) if you hadn't watered it.", correctAnswer: "would have died", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past near-miss.\n\nGrammar Recipe: Result + If + Past Perfect." },
  { id: 498, type: 'Third', difficulty: 'Easy', questionType: 'multiple-choice', text: "If I ___ my phone, I ___ you.", options: ["had charged / would have called", "charged / would call", "charge / will call", "had charged / called"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Reason for lack of contact.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 499, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "If they ___ (invite) us, we would have gone.", correctAnswer: "had invited", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past social slight.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 500, type: 'Third', difficulty: 'Easy', questionType: 'fill-blank', text: "I ___ (bake) cookies if I had had flour.", correctAnswer: "would have baked", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past lack of ingredients.\n\nGrammar Recipe: Result + If + Past Perfect." },

  // ========================================================================
  // LEVEL 2: MEDIUM (IDs 501-550) - Questions, Modals & Negatives
  // ========================================================================
  { id: 501, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "What ___ (you/do) if you had missed the flight?", correctAnswer: "would you have done", explanation: "Conditional Type: Third Conditional (Question)\n\nWhy it applies: Asking about a past hypothetical crisis.\n\nGrammar Recipe: Wh + Would + Subject + Have + V3 + If...?" },
  { id: 502, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "If he ___ the truth, ___ him?", options: ["had told / would you have forgiven", "told / would you forgive", "had told / will you forgive", "told / did you forgive"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Question)\n\nWhy it applies: Past hypothetical question.\n\nGrammar Recipe: If + Past Perfect, Would + Subject + Have + V3?" },
  { id: 503, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "She ___ (could/pass) if she had tried harder.", correctAnswer: "could have passed", explanation: "Conditional Type: Third Conditional (Modals)\n\nWhy it applies: 'Could have' expresses past possibility/ability that didn't happen.\n\nGrammar Recipe: Result (Could Have + V3) + If + Past Perfect." },
  { id: 504, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If I hadn't been sick, I ___ (might/come) to the party.", correctAnswer: "might have come", explanation: "Conditional Type: Third Conditional (Modals)\n\nWhy it applies: 'Might have' expresses a past possibility.\n\nGrammar Recipe: Result (Might Have + V3) + If + Past Perfect." },
  { id: 505, type: 'Third', difficulty: 'Medium', questionType: 'boolean', text: "Is this correct? 'If I had have gone, I would have seen it.'", options: ["Yes", "No"], correctAnswer: 1, explanation: "Conditional Type: Third Conditional (Error)\n\nWhy it applies: Double 'have' in the If-clause is a common native speaker error but grammatically incorrect. Correct: 'If I had gone'.\n\nGrammar Recipe: If + Had + V3 (NO extra 'have')." },
  { id: 506, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "I ___ it unless I ___ it with my own eyes.", options: ["wouldn't have believed / had seen", "wouldn't believe / saw", "won't believe / see", "didn't believe / saw"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Unless)\n\nWhy it applies: 'Unless I had seen' = 'If I hadn't seen'.\n\nGrammar Recipe: Result + Unless + Past Perfect." },
  { id: 507, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "___ you have gone if it had rained?", correctAnswer: "Would", explanation: "Conditional Type: Third Conditional (Question)\n\nWhy it applies: Yes/No question about past hypothetical.\n\nGrammar Recipe: Would + Subject + Have + V3...?" },
  { id: 508, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If we ___ (not/lose) the map, we wouldn't have been late.", correctAnswer: "had not lost", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Negative condition.\n\nGrammar Recipe: If + Had Not + V3 + Result." },
  { id: 509, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "They ___ the summit if the storm hadn't started.", options: ["could have reached", "can have reached", "would reach", "reached"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Modal)\n\nWhy it applies: 'Could have reached' implies capability in the past.\n\nGrammar Recipe: Modal + Have + V3 + If + Past Perfect." },
  { id: 510, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If I ___ (be) you, I would have accepted the offer.", correctAnswer: "had been", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Putting oneself in their shoes at that specific time in the past.\n\nGrammar Recipe: If + Had Been + Result." },
  { id: 511, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "He ___ (never/meet) her if he hadn't gone to Paris.", correctAnswer: "would never have met", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past destiny.\n\nGrammar Recipe: Would + Adverb + Have + V3." },
  { id: 512, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "If you ___ the signs, you ___ caught.", options: ["hadn't ignored / wouldn't have got", "didn't ignore / wouldn't get", "haven't ignored / won't get", "wouldn't ignore / hadn't got"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past double negative logic.\n\nGrammar Recipe: If + Past Perfect (Negative) + Would Have (Negative)." },
  { id: 513, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "We ___ (should/call) him if we had known he was ill.", correctAnswer: "should have called", explanation: "Conditional Type: Third Conditional (Modal)\n\nWhy it applies: 'Should have' expresses a past duty/regret.\n\nGrammar Recipe: Should Have + V3 + If + Past Perfect." },
  { id: 514, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If I ___ (not/spend) all my money, I could have bought it.", correctAnswer: "had not spent", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past financial regret.\n\nGrammar Recipe: If + Had Not + V3." },
  { id: 515, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "What ___ if the ambulance hadn't arrived?", options: ["would have happened", "would happen", "happened", "will happen"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Question)\n\nWhy it applies: Past hypothetical consequence.\n\nGrammar Recipe: What + Would Have + V3...?" },
  { id: 516, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If she hadn't fallen, she ___ (might/win).", correctAnswer: "might have won", explanation: "Conditional Type: Third Conditional (Modal)\n\nWhy it applies: Past possibility.\n\nGrammar Recipe: Might Have + V3." },
  { id: 517, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "They ___ (not/be) late if they had taken a taxi.", correctAnswer: "would not have been", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Explaining past punctuality.\n\nGrammar Recipe: Would Not Have + V3." },
  { id: 518, type: 'Third', difficulty: 'Medium', questionType: 'boolean', text: "Can we say 'If I had of known'?", options: ["Yes", "No"], correctAnswer: 1, explanation: "Conditional Type: Common Error\n\nWhy it applies: 'Had of' is a phonetic error for 'Had have' (which is also wrong). It should simply be 'Had known'.\n\nGrammar Recipe: Had + V3 (Never 'of')." },
  { id: 519, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "If the fire ___ bigger, the building ___ down.", options: ["had been / would have burned", "was / would burn", "were / would burn", "had been / burned"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past disaster scenario.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 520, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "I ___ (would/enjoy) the party more if I hadn't been tired.", correctAnswer: "would have enjoyed", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past condition affecting enjoyment.\n\nGrammar Recipe: Would Have + V3." },
  { id: 521, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If you ___ (read) the instructions, you wouldn't have broken it.", correctAnswer: "had read", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: 'Read' (past participle) is pronounced /red/.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 522, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "Unless he ___ the keys, we ___ stuck.", options: ["had found / would have been", "found / would be", "finds / will be", "had found / were"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Unless)\n\nWhy it applies: 'Unless he had found' = 'If he hadn't found'.\n\nGrammar Recipe: Unless + Past Perfect + Result." },
  { id: 523, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "You ___ (need/buy) a new one if you had fixed the old one.", correctAnswer: "would not have needed to buy", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Complex verb string. 'Wouldn't have needed to buy'.\n\nGrammar Recipe: Would Not Have + V3 + Infinitive." },
  { id: 524, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If I had seen you, I ___ (would/wave).", correctAnswer: "would have waved", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past greeting that didn't happen.\n\nGrammar Recipe: Would Have + V3." },
  { id: 525, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "If it ___ for your help, I ___ failed.", options: ["hadn't been / would have", "wasn't / would", "hadn't been / had", "weren't / would have"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Phrase)\n\nWhy it applies: 'If it hadn't been for...' = 'Without...'\n\nGrammar Recipe: If + It + Hadn't + Been + For + Noun." },
  { id: 526, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If she had been distracted, she ___ (might/not/see) the sign.", correctAnswer: "might not have seen", explanation: "Conditional Type: Third Conditional (Possibility)\n\nWhy it applies: Speculating about why something happened (Maybe she didn't see it). This functions as the result clause.\n\nGrammar Recipe: Might + Not + Have + V3." },
  { id: 527, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If we ___ (book) earlier, we could have saved money.", correctAnswer: "had booked", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past planning.\n\nGrammar Recipe: If + Past Perfect." },
  { id: 528, type: 'Third', difficulty: 'Medium', questionType: 'boolean', text: "Is 'I'd have done it' correct?", options: ["Yes", "No"], correctAnswer: 0, explanation: "Conditional Type: Contraction\n\nWhy it applies: 'I'd have' = 'I would have'. This is correct and common in speech.\n\nGrammar Recipe: Subject + 'd + Have + V3." },
  { id: 529, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "If the driver ___ faster, the accident ___.", options: ["had reacted / wouldn't have happened", "reacted / wouldn't happen", "had reacted / didn't happen", "reacts / won't happen"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Analysis of past accident.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 530, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "I ___ (send) an email if I had known your address.", correctAnswer: "would have sent", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past intent.\n\nGrammar Recipe: Would Have + V3." },
  { id: 531, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If you ___ (wake) him up, he would have been grumpy.", correctAnswer: "had woken", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past hypothetical reaction.\n\nGrammar Recipe: If + Had + V3." },
  { id: 532, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "If I ___ lunch, I ___ hungry.", options: ["had eaten / wouldn't have been", "ate / wouldn't be", "eat / won't be", "had eaten / wouldn't be"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Pure past context (I didn't eat, so I WAS hungry).\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 533, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "Who ___ (you/ask) if I hadn't been there?", correctAnswer: "would you have asked", explanation: "Conditional Type: Third Conditional (Question)\n\nWhy it applies: Hypothetical past alternative.\n\nGrammar Recipe: Who + Would + You + Have + Asked?" },
  { id: 534, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If it ___ (be) cheaper, we would have bought two.", correctAnswer: "had been", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past price condition.\n\nGrammar Recipe: If + Had + Been." },
  { id: 535, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "If she ___ the news, she ___ shocked.", options: ["had heard / would have been", "heard / would be", "hears / will be", "had heard / was"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past reaction.\n\nGrammar Recipe: If + Past Perfect + Result." },
  { id: 536, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If we ___ (not/go) to that party, we wouldn't have met.", correctAnswer: "had not gone", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Tracing back the origin of a relationship.\n\nGrammar Recipe: If + Had Not + V3." },
  { id: 537, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "You ___ (enjoy) the movie if you had come.", correctAnswer: "would have enjoyed", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Recommendation for a past event.\n\nGrammar Recipe: Would Have + V3." },
  { id: 538, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "If the technology ___ available, we ___ it.", options: ["had been / would have used", "was / would use", "is / will use", "were / would use"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past unavailability.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 539, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If I ___ (realize) the time, I would have hurried.", correctAnswer: "had realized", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past realization.\n\nGrammar Recipe: If + Had + V3." },
  { id: 540, type: 'Third', difficulty: 'Medium', questionType: 'boolean', text: "Punctuation: 'If I had known I would have helped.' Needs a comma?", options: ["Yes", "No"], correctAnswer: 0, explanation: "Conditional Type: Punctuation\n\nWhy it applies: Comma needed after the If-clause.\n\nGrammar Recipe: If-Clause + Comma + Result." },
  { id: 541, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If you ___ (check) the oil, the engine wouldn't have seized.", correctAnswer: "had checked", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Mechanical failure due to past neglect.\n\nGrammar Recipe: If + Had + V3." },
  { id: 542, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "He ___ the prize if he ___ entered.", options: ["couldn't have won / hadn't", "can't win / didn't", "wouldn't win / hadn't", "couldn't have won / didn't"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Logic: You can't win if you don't enter (in the past).\n\nGrammar Recipe: Could Not Have + V3 + If + Past Perfect." },
  { id: 543, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If I ___ (be) smarter, I wouldn't have done that.", correctAnswer: "had been", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Regret about past behavior/state.\n\nGrammar Recipe: If + Had + Been." },
  { id: 544, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "They ___ (might/get) lost if they hadn't had a map.", correctAnswer: "might have got", explanation: "Conditional Type: Third Conditional (Modal)\n\nWhy it applies: Past possibility of getting lost.\n\nGrammar Recipe: Might Have + V3." },
  { id: 545, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "If I ___ my job, I ___ to move.", options: ["had lost / would have had", "lost / would have", "have lost / will have", "had lost / had had"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: 'Would have had to'. The main verb is 'have to' (obligation).\n\nGrammar Recipe: If + Past Perfect + Would Have + Had to." },
  { id: 546, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If you ___ (pay) attention, you would have heard it.", correctAnswer: "had paid", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past attention resulting in past outcome.\n\nGrammar Recipe: If + Had + V3." },
  { id: 547, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "The team ___ (would/play) better if the coach had been there.", correctAnswer: "would have played", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past performance condition.\n\nGrammar Recipe: Would Have + V3." },
  { id: 548, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "If I ___ (have) to do it again, I would have done the same.", correctAnswer: "had had", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: 'Had had to'. Past obligation hypothetical.\n\nGrammar Recipe: If + Had + Had to." },
  { id: 549, type: 'Third', difficulty: 'Medium', questionType: 'multiple-choice', text: "If you ___ the bus, how ___ home?", options: ["had missed / would you have got", "missed / would you get", "miss / will you get", "had missed / did you get"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Question)\n\nWhy it applies: Hypothetical past travel.\n\nGrammar Recipe: If + Past Perfect + Would + Subject + Have + V3." },
  { id: 550, type: 'Third', difficulty: 'Medium', questionType: 'fill-blank', text: "I ___ (forget) your birthday if you hadn't reminded me.", correctAnswer: "would have forgotten", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past hypothetical memory failure.\n\nGrammar Recipe: Would Have + V3." },

  // ========================================================================
  // LEVEL 3: HARD (IDs 551-600) - Inversion, 'But for' & Formal Use
  // ========================================================================
  { id: 551, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "___ I known the truth, I would have acted differently.", options: ["Had", "If", "Have", "Did"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Inversion)\n\nWhy it applies: Formal inversion. 'Had I known' = 'If I had known'. We drop 'If' and invert 'Had'.\n\nGrammar Recipe: Had + Subject + V3." },
  { id: 552, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "___ (Had) you arrived earlier, you would have met him.", correctAnswer: "Had", explanation: "Conditional Type: Third Conditional (Inversion)\n\nWhy it applies: Inverted conditional for 'If you had arrived'.\n\nGrammar Recipe: Had + Subject + V3." },
  { id: 553, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "But for his help, we ___.", options: ["would have failed", "failed", "would fail", "had failed"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (But for)\n\nWhy it applies: 'But for' replaces 'If it hadn't been for'. It implies a past condition.\n\nGrammar Recipe: But for + Noun + Would Have + V3." },
  { id: 554, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "If it hadn't ___ (be) for the rain, the picnic would have been great.", correctAnswer: "been", explanation: "Conditional Type: Third Conditional (Fixed Phrase)\n\nWhy it applies: 'If it hadn't been for' means 'Without'.\n\nGrammar Recipe: If + It + Hadn't + Been + For." },
  { id: 555, type: 'Third', difficulty: 'Hard', questionType: 'boolean', text: "Is 'Had I have known' correct grammar?", options: ["Yes", "No"], correctAnswer: 1, explanation: "Conditional Type: Common Error\n\nWhy it applies: Never use 'have' after 'Had' in the condition. Correct: 'Had I known'.\n\nGrammar Recipe: Had + Subject + V3 (NO extra have)." },
  { id: 556, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "___ (Had) I seen the signal, I would have stopped.", correctAnswer: "Had", explanation: "Conditional Type: Third Conditional (Inversion)\n\nWhy it applies: Dropping 'If' and placing 'Had' first.\n\nGrammar Recipe: Had + Subject + V3." },
  { id: 557, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "If I ___ you, I would have told him.", options: ["had been", "was", "were", "have been"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Putting yourself in their shoes *in the past*.\n\nGrammar Recipe: If + Had + Been." },
  { id: 558, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "I would have lent it to you provided you ___ (return) it.", correctAnswer: "had returned", explanation: "Conditional Type: Third Conditional (Formal)\n\nWhy it applies: 'Provided' acts as 'If'.\n\nGrammar Recipe: Provided + Past Perfect." },
  { id: 559, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "Whatever ___ happened, I would have supported you.", options: ["had", "has", "did", "would"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: 'Whatever had happened' = No matter what past condition occurred.\n\nGrammar Recipe: Whatever + Had + V3." },
  { id: 560, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "Suppose you ___ (not/pass), what would you have done?", correctAnswer: "had not passed", explanation: "Conditional Type: Third Conditional (Suppose)\n\nWhy it applies: 'Suppose' sets the past hypothetical.\n\nGrammar Recipe: Suppose + Past Perfect." },
  { id: 561, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "If I ___ (have) to do it again, I would have changed nothing.", correctAnswer: "had had", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past hypothetical obligation.\n\nGrammar Recipe: If + Had + Had to." },
  { id: 562, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "___ not been for the doctor, he would have died.", options: ["Had it", "Were it", "If it", "Has it"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Inversion)\n\nWhy it applies: 'Had it not been for' = 'If it had not been for'.\n\nGrammar Recipe: Had + It + Not + Been + For." },
  { id: 563, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "I would have finished the project if the computer ___ (not/crash).", correctAnswer: "had not crashed", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Pure past hypothetical causality.\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." },
  { id: 564, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "If you ___ (would/listen), you might have learned something.", correctAnswer: "had listened", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Removing 'would' from the If-clause. 'If you had listened'.\n\nGrammar Recipe: If + Had + V3." },
  { id: 565, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "He acted as if he ___ anything.", options: ["hadn't seen", "didn't see", "wouldn't see", "hasn't seen"], correctAnswer: 0, explanation: "Conditional Type: As If (Unreal Past - Related Structure)\n\nWhy it applies: 'As if' + Past Perfect implies a hypothetical situation in the past.\n\nGrammar Recipe: As if + Past Perfect." },
  { id: 566, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "I ___ (wish) I had studied harder.", correctAnswer: "wish", explanation: "Conditional Type: Regret (Unreal Past - Related Structure)\n\nWhy it applies: 'I wish' + Past Perfect expresses regret about the past.\n\nGrammar Recipe: Wish + Past Perfect." },
  { id: 567, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "If only I ___ (listen) to your advice!", correctAnswer: "had listened", explanation: "Conditional Type: Regret (Unreal Past - Related Structure)\n\nWhy it applies: 'If only' + Past Perfect = Strong regret about the past.\n\nGrammar Recipe: If only + Past Perfect." },
  { id: 568, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "Imagine we ___ that plane!", options: ["had missed", "missed", "would miss", "did miss"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Imagine)\n\nWhy it applies: Imagining a past event that didn't happen (We didn't miss it, but imagine if we HAD).\n\nGrammar Recipe: Imagine + Past Perfect." },
  { id: 569, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "Without your help, I ___ (fail).", correctAnswer: "would have failed", explanation: "Conditional Type: Implied Conditional\n\nWhy it applies: 'Without your help' replaces 'If you hadn't helped me'.\n\nGrammar Recipe: Without + Noun -> Would Have + V3." },
  { id: 570, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "If I ___ (know) it was you, I would have opened the door.", correctAnswer: "had known", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past ignorance.\n\nGrammar Recipe: If + Had + Known." },
  { id: 571, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "___ we found the cure earlier, lives would have been saved.", options: ["Had", "If", "Did", "Were"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Inversion)\n\nWhy it applies: 'Had we found' = 'If we had found'.\n\nGrammar Recipe: Had + Subject + V3." },
  { id: 572, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "I would have resigned ___ (had) it not been for the mortgage.", correctAnswer: "had", explanation: "Conditional Type: Third Conditional (Inversion)\n\nWhy it applies: 'Had it not been for...' = 'If it hadn't been for...'\n\nGrammar Recipe: Had + Subject + Not + Been." },
  { id: 573, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "If the government ___ (not/intervene), the bank would have collapsed.", correctAnswer: "had not intervened", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Historical hypothetical.\n\nGrammar Recipe: If + Had Not + V3." },
  { id: 574, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "He sounds as though he ___ there.", options: ["had been", "was", "is", "has been"], correctAnswer: 0, explanation: "Conditional Type: As Though (Unreal Past - Related Structure)\n\nWhy it applies: Referring to a past hypothetical/unreal state.\n\nGrammar Recipe: As though + Past Perfect." },
  { id: 575, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "If you ___ (fall), I would have caught you.", correctAnswer: "had fallen", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past reassurance.\n\nGrammar Recipe: If + Had + V3." },
  { id: 576, type: 'Third', difficulty: 'Hard', questionType: 'boolean', text: "Can 'would' appear in the If-clause in the Third Conditional?", options: ["No", "Yes (if willing)"], correctAnswer: 0, explanation: "Conditional Type: Grammar Rule\n\nWhy it applies: In standard 3rd conditional, 'would' does NOT appear in the If-clause. 'If I had would' is wrong.\n\nGrammar Recipe: If + Past Perfect (No Would)." },
  { id: 577, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "Whatever you ___ (do), I would have forgiven you.", correctAnswer: "had done", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past unconditional forgiveness.\n\nGrammar Recipe: Whatever + Had + V3." },
  { id: 578, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "If I ___ of the danger, I wouldn't have gone.", options: ["had been warned", "was warned", "warned", "had warned"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Passive)\n\nWhy it applies: 'Had been warned' is Past Perfect Passive. I needed to BE warned by someone else.\n\nGrammar Recipe: If + Had Been + V3 (Passive)." },
  { id: 579, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "I would have visited you ___ (have) I known you were ill.", correctAnswer: "had", explanation: "Conditional Type: Third Conditional (Inversion)\n\nWhy it applies: 'Had I known' placed after the main clause.\n\nGrammar Recipe: Result + Had + Subject + Known." },
  { id: 580, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "It would have been better if they ___ (leave) it alone.", correctAnswer: "had left", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Opinion on past event.\n\nGrammar Recipe: Result + If + Past Perfect." },
  { id: 581, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "___, we would have been in trouble.", options: ["Had you not come", "If you didn't come", "Did you not come", "Had you not came"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Inversion)\n\nWhy it applies: Inverted negative conditional.\n\nGrammar Recipe: Had + Subject + Not + V3." },
  { id: 582, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "If I ___ (be/able) to prevent it, I would have.", correctAnswer: "had been able", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past ability condition.\n\nGrammar Recipe: If + Had Been Able." },
  { id: 583, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "Even if you ___ (offer) me a million, I wouldn't have sold it.", correctAnswer: "had offered", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Emphatic refusal in past.\n\nGrammar Recipe: Even if + Had + V3." },
  { id: 584, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "If the alarm ___ off, we ___ woken up.", options: ["hadn't gone / wouldn't have", "didn't go / wouldn't", "hadn't gone / didn't", "hasn't gone / won't"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Cause and effect in past.\n\nGrammar Recipe: If + Hadn't + V3 + Wouldn't Have + V3." },
  { id: 585, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "We ___ (might/miss) the connection if the first flight had been late.", correctAnswer: "might have missed", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past possibility outcome.\n\nGrammar Recipe: Might Have + V3." },
  { id: 586, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "I'd have bought it but I ___ (not/have) my wallet.", correctAnswer: "did not have", explanation: "Conditional Type: Implied Conditional / Reality\n\nWhy it applies: 'But I didn't have...' states the REALITY that prevented the hypothetical. It's not part of the If-clause, it's a statement of fact.\n\nGrammar Recipe: But + Past Simple (Fact)." },
  { id: 587, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "If you ___ him, what ___?", options: ["had met / would you have said", "met / would you say", "had met / did you say", "meet / will you say"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Hypothetical past encounter.\n\nGrammar Recipe: If + Past Perfect + Would + Have + V3." },
  { id: 588, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "They would have been married for 50 years if he ___ (not/die).", correctAnswer: "had not died", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Counterfactual past.\n\nGrammar Recipe: If + Had Not + V3." },
  { id: 589, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "If I ___ (anticipate) the risk, I would not have invested.", correctAnswer: "had anticipated", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Regret over lack of foresight.\n\nGrammar Recipe: If + Had + V3." },
  { id: 590, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "___, I would have told you.", options: ["Had it been true", "If it was true", "Were it true", "Was it true"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional (Inversion)\n\nWhy it applies: 'Had it been true' = 'If it had been true'.\n\nGrammar Recipe: Had + Subject + V3." },
  { id: 591, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "I would have helped you ___ (have) you asked.", correctAnswer: "had", explanation: "Conditional Type: Third Conditional (Inversion)\n\nWhy it applies: Post-positioned inversion.\n\nGrammar Recipe: Had + Subject + V3." },
  { id: 592, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "If the letter ___ (arrive) on time, we would have known.", correctAnswer: "had arrived", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past postal delay.\n\nGrammar Recipe: If + Had + V3." },
  { id: 593, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "We ___ there if we ___ the train.", options: ["wouldn't have been / had missed", "wouldn't be / missed", "wouldn't have been / missed", "weren't / had missed"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past result of past event.\n\nGrammar Recipe: Result (Would Have + V3) + If + Past Perfect." },
  { id: 594, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "If you ___ (take) the other road, you would have arrived earlier.", correctAnswer: "had taken", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past route choice.\n\nGrammar Recipe: If + Had + V3." },
  { id: 595, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "I ___ (never/believe) it if I hadn't seen it myself.", correctAnswer: "would never have believed", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Disbelief in past.\n\nGrammar Recipe: Would + Never + Have + V3." },
  { id: 596, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "___ your help, I couldn't have finished.", options: ["Without", "Unless", "If", "But"], correctAnswer: 0, explanation: "Conditional Type: Implied Conditional\n\nWhy it applies: 'Without' acts as the negative condition.\n\nGrammar Recipe: Without + Noun." },
  { id: 597, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "If I ___ (know) you were in town, I would have visited.", correctAnswer: "had known", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past ignorance of fact.\n\nGrammar Recipe: If + Had + V3." },
  { id: 598, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "The crops ___ (die) if it hadn't rained.", correctAnswer: "would have died", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past agricultural outcome.\n\nGrammar Recipe: Result + If + Past Perfect." },
  { id: 599, type: 'Third', difficulty: 'Hard', questionType: 'fill-blank', text: "If I ___ (be) able to come, I would have.", correctAnswer: "had been", explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Past capability.\n\nGrammar Recipe: If + Had + Been." },
  { id: 600, type: 'Third', difficulty: 'Hard', questionType: 'multiple-choice', text: "If you ___ to the doctor, you ___ better sooner.", options: ["had gone / would have felt", "went / would feel", "go / will feel", "had gone / felt"], correctAnswer: 0, explanation: "Conditional Type: Third Conditional\n\nWhy it applies: Advice given too late (past).\n\nGrammar Recipe: If + Past Perfect + Would Have + V3." }
];